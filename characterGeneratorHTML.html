<!DOCTYPE html>
<html>
    <title>
        DND Character Sheet Generator 0.1
    </title>
    <head>
        <script>
            function characterGenerator(){
                                    function charRace(){

                    let racesArry = ["Dragonborn", "Dwarf", "Elf", "Gnome", "Half-Elf", "Halfling", "Half-Orc", "Human", "Tiefling"];

                    function fyShuffle(arr) {       // fisher-yates shuffle function
                        let i = arr.length;
                        while (--i > 0) {
                        let randIndex = Math.floor(Math.random() * (i + 1));
                        [arr[randIndex], arr[i]] = [arr[i], arr[randIndex]];
                        }
                        return arr;
                    }

                    fyShuffle(racesArry);       // shuffles array

                    for (i = 0; i < 8; i++){        // pops array until one remains
                        racesArry.pop();
                    }

                    raceStorage.push(racesArry.toString());

                    }

                    let raceStorage = [];       // empty array for race storage

                    charRace();

                    characterRace = [];
                    characterRace.push(raceStorage);

                    function charFirstName(){
                    let typeAConsonant = ["b", "c", "d", "f", "g", "h", "j", "k", "l", "m", "n", "p", 
                                            "r", "s", "t", "v", "w", "y", "b", "c", "d", "f", "g",   
                                            "h", "j", "k", "l", "m", "n", "p", "r", "s", "t", "v", "w",
                                            "y", "sh", "ch", "th", "sh", "ch", "th", "sh", "ch", "th"]
                    let typeBConsonant = ["b", "c", "d", "f", "g", "h", "j", "k", "l", "m", "n", "p", "q", 
                                            "r", "s", "t", "v", "w", "x", "y", "z", "b", "c", "d", "f", "g",   
                                            "h", "j", "k", "l", "m", "n", "p", "q", "r", "s", "t", "v", "w",
                                            "x", "y", "z", "sh", "ch", "th", "sh", "ch", "th", "sh", "ch", "th"]
                    let typeCConsonant = ["d", "f", "g", "h", "j", "l", "n", "p", "q", 
                                            "r", "s", "v", "w", "y", "d", "f", "g",   
                                            "h", "j", "l", "n", "p", "q", "r", "s", "v", "w",
                                            "y", "sh", "sh", "sh"]

                    let vowelArry = ["a", "e", "i", "o", "u", "a", "e", "i", "o", 
                                    "u", "a", "e", "i", "o", "u", "a", "e", "i", "o", "u"]

                    let wordLength = Math.floor(Math.random() * (9 - 3 + 1) + 3)    // creates a word length between 3 and 9

                    function fyShuffle(arr) {                       // fisher-yates shuffle
                        let i = arr.length;
                        while (--i > 0) {
                        let randIndex = Math.floor(Math.random() * (i + 1));
                        [arr[randIndex], arr[i]] = [arr[i], arr[randIndex]];
                        }
                        return arr;
                    }

                    fyShuffle(vowelArry);                           // shuffling both primary arrays
                    fyShuffle(typeAConsonant);
                    fyShuffle(typeBConsonant);
                    fyShuffle(typeCConsonant);

                    let consonantToAdd = [];
                    let vowelToAdd = [];


                    if (characterRace[0] == "Human"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }       

                    } else if (characterRace[0] == "Dwarf"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }  
                    } else if (characterRace[0] == "Dragonborn"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }  
                    } else if (characterRace[0] == "Gnome"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }  
                    } else if (characterRace[0] == "Halfling"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }  
                    } else if (characterRace[0] == "Elf"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeCConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }
                    }  else if (characterRace[0] == "Half-Elf"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeCConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }
                    } else if (characterRace[0] == "Tiefling"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeCConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }
                    } else {
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeBConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }
                    }

                    for (let i = 0; i < wordLength; i++){ 
                        vowelToAdd.push(vowelArry[i])
                    }

                    let vowelConsonantArry = [];                    // new array waiting for concat of vowel consonant

                    let i, l = Math.min(consonantToAdd.length, vowelToAdd.length); // function for merging consonant and vowel arrays in an alternating fashion
                        
                    for (i = 0; i < l; i++) {
                        vowelConsonantArry.push(consonantToAdd[i], vowelToAdd[i]);
                    }
                    vowelConsonantArry.push(...consonantToAdd.slice(l), ...vowelToAdd.slice(l));

                    let wordLengthB = Math.floor(Math.random() * (9 - 4 + 1) + 3)    

                    for (i = 0; vowelConsonantArry.length > wordLengthB; i++){ // popping the final array to 5 characters long or less. 
                        vowelConsonantArry.pop()
                    }


                    let preExitString = vowelConsonantArry.toString();   // convering the array to a string
                    let exitString = preExitString.replace(/,/g, '');   // removing spaces (?)
                    let exitStringFInal = exitString[0].toUpperCase() + exitString.substring(1) // setting the first character to be uppercase

                    firstNameStorage.push(exitStringFInal);

                    }

                    let firstNameStorage = [];       // empty array for first and last names from charName

                    charFirstName();

                    function charLastName(){
                    let typeAConsonant = ["b", "c", "d", "f", "g", "h", "j", "k", "l", "m", "n", "p", 
                                            "r", "s", "t", "v", "w", "y", "b", "c", "d", "f", "g",   
                                            "h", "j", "k", "l", "m", "n", "p", "r", "s", "t", "v", "w",
                                            "y", "sh", "ch", "th", "sh", "ch", "th", "sh", "ch", "th"]
                    let typeBConsonant = ["b", "c", "d", "f", "g", "h", "j", "k", "l", "m", "n", "p", "q", 
                                            "r", "s", "t", "v", "w", "x", "y", "z", "b", "c", "d", "f", "g",   
                                            "h", "j", "k", "l", "m", "n", "p", "q", "r", "s", "t", "v", "w",
                                            "x", "y", "z", "sh", "ch", "th", "sh", "ch", "th", "sh", "ch", "th"]
                    let typeCConsonant = ["d", "f", "g", "h", "j", "l", "n", "p", "q", 
                                            "r", "s", "v", "w", "y", "d", "f", "g",   
                                            "h", "j", "l", "n", "p", "q", "r", "s", "v", "w",
                                            "y", "sh", "sh", "sh"]

                    let vowelArry = ["a", "e", "i", "o", "u", "a", "e", "i", "o", 
                                    "u", "a", "e", "i", "o", "u", "a", "e", "i", "o", "u"]

                    let wordLength = Math.floor(Math.random() * (9 - 3 + 1) + 3)    // creates a word length between 3 and 9

                    function fyShuffle(arr) {                       // fisher-yates shuffle
                        let i = arr.length;
                        while (--i > 0) {
                        let randIndex = Math.floor(Math.random() * (i + 1));
                        [arr[randIndex], arr[i]] = [arr[i], arr[randIndex]];
                        }
                        return arr;
                    }

                    fyShuffle(vowelArry);                           // shuffling both primary arrays
                    fyShuffle(typeAConsonant);
                    fyShuffle(typeBConsonant);
                    fyShuffle(typeCConsonant);

                    let consonantToAdd = [];
                    let vowelToAdd = [];


                    if (characterRace[0] == "Human"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }       

                    } else if (characterRace[0] == "Dwarf"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }  
                    } else if (characterRace[0] == "Dragonborn"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }  
                    } else if (characterRace[0] == "Gnome"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }  
                    } else if (characterRace[0] == "Halfling"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeAConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }  
                    } else if (characterRace[0] == "Elf"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeCConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }
                    }  else if (characterRace[0] == "Half-Elf"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeCConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }
                    } else if (characterRace[0] == "Tiefling"){
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeCConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }
                    } else {
                        for (let i = 0; i < wordLength; i++){           // stores consonants from shuffled
                            consonantToAdd.push(typeBConsonant[i])       // consonant array to new array and limits entries to wordLength
                        }
                    }

                    for (let i = 0; i < wordLength; i++){ 
                        vowelToAdd.push(vowelArry[i])
                    }

                    let vowelConsonantArry = [];                    // new array waiting for concat of vowel consonant

                    let i, l = Math.min(consonantToAdd.length, vowelToAdd.length); // function for merging consonant and vowel arrays in an alternating fashion
                        
                    for (i = 0; i < l; i++) {
                        vowelConsonantArry.push(consonantToAdd[i], vowelToAdd[i]);
                    }
                    vowelConsonantArry.push(...consonantToAdd.slice(l), ...vowelToAdd.slice(l));

                    let wordLengthB = Math.floor(Math.random() * (9 - 4 + 1) + 3)    

                    for (i = 0; vowelConsonantArry.length > wordLengthB; i++){ // popping the final array to 5 characters long or less. 
                        vowelConsonantArry.pop()
                    }

                    let preExitString = vowelConsonantArry.toString();   // convering the array to a string
                    let exitString = preExitString.replace(/,/g, '');   // removing spaces (?)
                    let exitStringFInal = exitString[0].toUpperCase() + exitString.substring(1) // setting the first character to be uppercase

                    lastNameStorage.push(exitStringFInal);


                    }

                    let lastNameStorage = [];       // empty array for first and last names from charName

                    charLastName();

                    function charClass(){

                    let charClassesArry = ["Artificer", "Barbarian", "Bard", "Cleric", "Druid", "Fighter",
                                            "Monk", "Paladin", "Ranger", "Rogue", "Sorcerer", "Warlock",
                                            "Wizard"];

                    function fyShuffle(arr) {       // fisher-yates shuffle function
                        let i = arr.length;
                        while (--i > 0) {
                        let randIndex = Math.floor(Math.random() * (i + 1));
                        [arr[randIndex], arr[i]] = [arr[i], arr[randIndex]];
                        }
                        return arr;
                    }

                    fyShuffle(charClassesArry);     // shuffles array

                    for (i = 0; i < 12; i++){
                        charClassesArry.pop();
                    }

                    classStorage.push(charClassesArry.toString());
                    }

                    let classStorage = [];

                    charClass();

                    characterFirstName = [];
                    characterLastName = [];
                    characterClass = [];

                    characterFirstName.push(firstNameStorage[0]);
                    characterLastName.push(lastNameStorage[0]);
                    characterClass.push(classStorage);

                    // let characterObj = {FirstName: characterFirstName.toString(),
                                    // LastName: characterLastName.toString(),
                                    // Race: characterRace.toString(),
                                    // Class: characterClass.toString()};

                    document.getElementsByName('fname')[0].value = characterFirstName;
                    document.getElementsByName('lname')[0].value = characterLastName;
                    document.getElementsByName('cRace')[0].value = characterRace;
                    document.getElementsByName('cClass')[0].value = characterClass;

                    }
            
        </script>
    </head>
    <body>
        <button onclick="characterGenerator()">Generate Character</button>
        <p></p>
        <button onclick="">First Name</button>
        <input type="text" id="fname" name="fname">
        <p></p>
        <button onclick="">Last Name</button>
        <input type="text" id="lname" name="lname">
        <p></p>
        <button onclick="charRace()">Race</button>
        <input type="text" id="cRace" name="cRace">
        <p></p>
        <button onclick="">Class</button>
        <input type="text" id="cClass" name="cClass">
    </body>
</html>